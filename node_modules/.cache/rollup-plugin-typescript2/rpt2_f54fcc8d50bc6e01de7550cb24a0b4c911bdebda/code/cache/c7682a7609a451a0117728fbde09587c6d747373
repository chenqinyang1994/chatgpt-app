{"code":"import ReconnectingWebSocket from \"reconnecting-websocket\";\nimport request from '../utils/request';\nimport { authToken } from '../utils/authService';\nimport { wsAPI } from \"../constants/api\";\nvar BASE_URL = '';\nexport function indexPageQuestion(data) {\n    return request({\n        url: \"\".concat(BASE_URL, \"/question\"),\n        method: 'get',\n        data: data,\n    });\n}\nexport function indexQuestionDetail(_a) {\n    var id = _a.id;\n    return request({\n        url: \"\".concat(BASE_URL, \"/question/\").concat(id),\n        method: 'get',\n    });\n}\nexport function chatWS(_a) {\n    var successFn = _a.successFn, errorFn = _a.errorFn;\n    var rws = new ReconnectingWebSocket(\"\".concat(wsAPI, \"?token=\").concat(authToken.get()));\n    rws.addEventListener(\"message\", function (_a) {\n        var data = _a.data;\n        try {\n            var packet = JSON.parse(data);\n            successFn(packet);\n        }\n        catch (error) {\n            errorFn(\"socket JSON.parse error ~\");\n        }\n    });\n    return rws;\n}\n","references":["/Users/chenqinyang/Desktop/chat-requset-rollup/node_modules/reconnecting-websocket/dist/reconnecting-websocket.d.ts","/Users/chenqinyang/Desktop/chat-requset-rollup/src/utils/request.ts","/Users/chenqinyang/Desktop/chat-requset-rollup/src/utils/authService.ts","/Users/chenqinyang/Desktop/chat-requset-rollup/src/constants/api.ts"],"dts":{"name":"/Users/chenqinyang/Desktop/chat-requset-rollup/node_modules/.cache/rollup-plugin-typescript2/placeholder/services/index.d.ts","writeByteOrderMark":false,"text":"import ReconnectingWebSocket from \"reconnecting-websocket\";\nexport declare function indexPageQuestion(data: {\n    size: number;\n    current: number;\n    exclude?: number | undefined;\n}): Promise<any>;\nexport declare function indexQuestionDetail({ id }: {\n    id: number | string;\n}): Promise<any>;\nexport declare function chatWS({ successFn, errorFn }: {\n    successFn: (res: any) => void;\n    errorFn: (err: any) => void;\n}): ReconnectingWebSocket;\n"}}
